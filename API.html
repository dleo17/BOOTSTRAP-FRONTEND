<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>API-Playground â€“ Info Website 2025</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Optional: deine globale styles.css -->
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* Futuristischer, aber heller Background */
    body {
      background:
        radial-gradient(1200px 800px at 10% 10%, rgba(0,140,255,.06), transparent 70%),
        radial-gradient(900px 600px at 85% 80%, rgba(0,255,200,.06), transparent 70%),
        linear-gradient(160deg,#0a0f1f 0%, #0c1426 100%);
      color: #e9f3ff;
      min-height: 100vh;
    }
    .page-title { color:#cfe6ff; text-shadow:0 4px 24px rgba(0,140,255,.35); }

    .api-card {
      background: rgba(14,22,40,.85);
      border: 1px solid rgba(0,255,200,.15);
      box-shadow: 0 1.25rem 2.5rem rgba(0,0,0,.35), 0 0 20px rgba(0,255,200,.08);
      border-radius: 1rem;
      overflow: hidden;
    }
    .api-card h3 { font-size:1.1rem; color:#bfe9ff; }
    .muted { color: #9fb6d1; }
    .result { background: rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:.75rem; }

    .btn-glow {
      background: linear-gradient(135deg,#00ffc8,#008cff);
      border: none;
      color:#041224;
      font-weight:700;
      box-shadow:0 0 18px rgba(0,255,200,.2);
    }
    .btn-glow:hover { filter:brightness(1.15); transform: translateY(-1px); }

    .form-control {
      background: rgba(255,255,255,.92);
      color:#0a1020;
      border-radius:.75rem;
      border:1px solid rgba(0,140,255,.35);
    }
    .form-control:focus {
      box-shadow:0 0 0 .2rem rgba(0,140,255,.25);
      border-color:#00a2ff;
    }

    /* kleine Bild-Grids */
    .grid {
      display:grid;
      gap: .75rem;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    }
    .poke-card, .drink-card, .food-card, .photo {
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      border-radius:.75rem;
      padding:.75rem;
    }
    .photo img { width:100%; height:120px; object-fit:cover; border-radius:.5rem; }
    code.inline { background:rgba(255,255,255,.08); padding:.1rem .35rem; border-radius:.35rem; }
  </style>
</head>
<body data-page="apis">
  <div id="site-nav"></div>

  <main class="container py-5">
    <header class="text-center mb-4">
      <h1 class="page-title display-6 fw-bold">ðŸ§ª API-Playground</h1>
      <p class="muted mb-0">PokÃ©mon, Wetter, Cocktails, Food-Facts & Unsplash â€“ alles live per JavaScript.</p>
    </header>

    <!-- ROW 1: POKEMON + WEATHER -->
    <div class="row g-4 mb-4">
      <!-- PokÃ©API -->
      <div class="col-12 col-lg-6">
        <div class="api-card p-3 p-md-4 h-100">
          <h3>PokÃ©API â€“ PokÃ©mon suchen</h3>
          <p class="muted">Ohne API-Key. Beispiel: <code class="inline">pikachu</code>, <code class="inline">charizard</code>, <code class="inline">mew</code></p>
          <div class="input-group mb-3">
            <input id="pokeInput" class="form-control" placeholder="PokÃ©mon-Nameâ€¦" />
            <button id="pokeBtn" class="btn btn-glow">Suchen</button>
          </div>
          <div id="pokeOut" class="result p-3">
            <div class="muted">Ergebnis erscheint hierâ€¦</div>
          </div>
        </div>
      </div>

      <!-- Bored API -->
      <div class="col-12 col-lg-6">
        <div class="api-card p-3 p-md-4 h-100">
          <h3>Advice API â€“ zufaelliger Tipp</h3>
          <p class="muted">Ohne API-Key. Klick auf den Button und hol dir einen zufaelligen Ratschlag.</p>
          <div class="d-flex mb-3">
            <button id="activityBtn" class="btn btn-glow ms-auto">Idee holen</button>
          </div>
          <div id="activityOut" class="result p-3">
            <div class="muted">Noch keine Idee geladenâ€¦</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ROW 2: COCKTAIL + OPEN FOOD FACTS -->
    <div class="row g-4 mb-4">
      <!-- TheCocktailDB -->
      <div class="col-12 col-lg-6">
        <div class="api-card p-3 p-md-4 h-100">
          <h3>TheCocktailDB â€“ Drinks suchen</h3>
          <p class="muted">Ohne API-Key. Beispiel: <code class="inline">margarita</code>, <code class="inline">mojito</code></p>
          <div class="input-group mb-3">
            <input id="drinkInput" class="form-control" placeholder="Drink-Nameâ€¦" />
            <button id="drinkBtn" class="btn btn-glow">Suchen</button>
          </div>
          <div id="drinkOut" class="result p-3">
            <div class="muted">Ergebnisse erscheinen hierâ€¦</div>
          </div>
        </div>
      </div>

      <!-- Dog CEO -->
      <div class="col-12 col-lg-6">
        <div class="api-card p-3 p-md-4 h-100">
          <h3>RandomUser â€“ zufaelliges Profil</h3>
          <p class="muted">Ohne API-Key. Klick auf den Button fuer ein zufaelliges Personenprofil.</p>
          <div class="d-flex mb-3">
            <button id="dogBtn" class="btn btn-glow ms-auto">Neuer User</button>
          </div>
          <div id="dogOut" class="result p-3">
            <div class="muted">Noch kein User geladenâ€¦</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ROW 3: UNSPLASH -->
    <div class="row g-4">
      <div class="col-12">
        <div class="api-card p-3 p-md-4">
          <h3>Deutsche Witze (offline)</h3>
          <p class="muted">Ohne API. Klick auf den Button fÃ¼r einen zufÃ¤lligen deutschen Witz.</p>
          <div class="d-flex mb-3">
            <button id="jokeBtn" class="btn btn-glow ms-auto">Witz laden</button>
          </div>
          <div id="jokeOut" class="result p-3">
            <div class="muted">Noch kein Witz geladenâ€¦</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- jQuery / Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    /* ========= API KEYS (trage deine Keys hier ein) ========= */

    /* ============ HELPERS ============ */
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => document.querySelectorAll(sel);
    const fmt = (n) => new Intl.NumberFormat('de-CH').format(n);

    function setLoading(el, loading=true, textWhenDone) {
      el.innerHTML = loading ? '<div class="muted">Ladeâ€¦</div>' : (textWhenDone || '');
    }

    /* ============ POKÃ‰API ============ */
    $('#pokeBtn').addEventListener('click', async () => {
      const name = $('#pokeInput').value.trim().toLowerCase();
      const out = $('#pokeOut');
      if (!name) { out.innerHTML = '<div class="muted">Bitte einen Namen eingeben.</div>'; return; }
      try {
        setLoading(out, true);
        const r = await fetch(`https://pokeapi.co/api/v2/pokemon/${encodeURIComponent(name)}`);
        if (!r.ok) throw new Error('Nicht gefunden');
        const p = await r.json();
        out.innerHTML = `
          <div class="grid">
            <div class="poke-card">
              <img src="${p.sprites.other['official-artwork'].front_default || p.sprites.front_default}" alt="${p.name}" style="width:100%;height:160px;object-fit:contain;background:#fff;border-radius:.5rem;" />
              <div class="pt-2">
                <div><strong>#${p.id}</strong> â€“ ${p.name}</div>
                <div class="muted">Typen: ${p.types.map(t=>t.type.name).join(', ')}</div>
                <div class="muted">GrÃ¶ÃŸe: ${p.height/10} m &nbsp; Gewicht: ${p.weight/10} kg</div>
              </div>
            </div>
            <div class="poke-card">
              <strong>Basis-Stats</strong>
              <ul class="mb-0 mt-2">
                ${p.stats.map(s=>`<li>${s.stat.name}: <strong>${s.base_stat}</strong></li>`).join('')}
              </ul>
            </div>
          </div>
        `;
      } catch (e) {
        out.innerHTML = `<div class="text-danger">Fehler: ${e.message}</div>`;
      }
    });

    /* ============ THECOCKTAILDB ============ */
    $('#drinkBtn').addEventListener('click', async () => {
      const q = $('#drinkInput').value.trim();
      const out = $('#drinkOut');
      if (!q) { out.innerHTML = '<div class="muted">Bitte Drink-Name eingeben.</div>'; return; }
      try {
        setLoading(out, true);
        const r = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${encodeURIComponent(q)}`);
        const data = await r.json();
        if (!data.drinks) { out.innerHTML = '<div class="muted">Keine Treffer.</div>'; return; }
        out.innerHTML = `
          <div class="grid">
            ${data.drinks.slice(0,8).map(d=>`
              <div class="drink-card">
                <img src="${d.strDrinkThumb}" alt="${d.strDrink}" style="width:100%;height:120px;object-fit:cover;border-radius:.5rem;" />
                <div class="pt-2"><strong>${d.strDrink}</strong></div>
                <div class="muted" style="font-size:.9rem">${d.strAlcoholic} Â· ${d.strCategory}</div>
              </div>
            `).join('')}
          </div>
        `;
      } catch (e) {
        out.innerHTML = `<div class="text-danger">Fehler: ${e.message}</div>`;
      }
    });


    /* ============ BORED / ADVICE API ============ */
    $('#activityBtn').addEventListener('click', async () => {
      const out = $('#activityOut');
      try {
        setLoading(out, true);
        const r = await fetch('https://api.adviceslip.com/advice');
        if (!r.ok) throw new Error('API-Fehler');
        const data = await r.json();
        const advice = data?.slip?.advice || 'Kein Tipp erhalten.';
        out.innerHTML = `
          <div>
            <div><strong>${advice}</strong></div>
          </div>
        `;
      } catch (e) {
        out.innerHTML = `<div class="text-danger">Fehler: ${e.message}</div>`;
      }
    });

    /* ============ RANDOMUSER ============ */
    $('#dogBtn').addEventListener('click', async () => {
      const out = $('#dogOut');
      try {
        setLoading(out, true);
        const r = await fetch('https://randomuser.me/api/');
        if (!r.ok) throw new Error('API-Fehler');
        const d = await r.json();
        const u = d.results && d.results[0];
        if (!u) throw new Error('Keine Daten erhalten');
        out.innerHTML = `
          <div class="food-card">
            <div class="d-flex gap-3">
              <img src="${u.picture?.large}" alt="Profilbild" style="width:120px;height:120px;object-fit:cover;border-radius:.75rem;background:#fff" />
              <div>
                <div><strong>${u.name.title} ${u.name.first} ${u.name.last}</strong></div>
                <div class="muted">${u.location.country}</div>
                <div class="muted" style="font-size:.85rem;">E-Mail: ${u.email}</div>
              </div>
            </div>
          </div>
        `;
      } catch (e) {
        out.innerHTML = `<div class="text-danger">Fehler: ${e.message}</div>`;
      }
    });

    const germanJokes = [
      {
        setup: 'Was macht ein Informatiker, wenn er Durst hat?',
        punchline: 'Er geht an die Bar und bestellt ein Byte.'
      },
      {
        setup: 'Treffen sich zwei Bytes.',
        punchline: 'Fragt das eine: â€žUnd, wie gehtâ€™s?â€œ â€“ Sagt das andere: â€žGanz gut, danke, nur ein bisschen parity.â€œ'
      },
      {
        setup: 'Warum kÃ¶nnen SeerÃ¤uber so schlecht programmieren?',
        punchline: 'Weil sie immer nur Arrr verwenden.'
      },
      {
        setup: 'Wie viele Programmierer braucht man, um eine GlÃ¼hbirne zu wechseln?',
        punchline: 'Keinen. Das ist ein Hardware-Problem.'
      },
      {
        setup: 'Ein SQL-Statement kommt in eine Barâ€¦',
        punchline: 'â€¦und fragt: â€žDarf ich mich zu den Tabellen JOINen?â€œ'
      },
      {
        setup: 'Warum war der JavaScript-Entwickler traurig?',
        punchline: 'Weil er stÃ¤ndig â€žnullâ€œ GefÃ¼hle hatte.'
      }
    ];

    /* ============ JOKE (OFFLINE) ============ */
    $('#jokeBtn').addEventListener('click', () => {
      const out = $('#jokeOut');
      if (!germanJokes.length) {
        out.innerHTML = '<div class="text-danger">Keine Witze definiert.</div>';
        return;
      }
      const idx = Math.floor(Math.random() * germanJokes.length);
      const j = germanJokes[idx];
      out.innerHTML = `
        <div>
          <div><strong>${j.setup}</strong></div>
          <div class="mt-2">${j.punchline}</div>
        </div>
      `;
    });
  </script>
  <script>
    fetch('nav.html')
      .then(res => {
        if (!res.ok) throw new Error('Nav konnte nicht geladen werden');
        return res.text();
      })
      .then(html => {
        document.getElementById('site-nav').innerHTML = html;
      })
      .catch(err => console.error(err));
  </script>
</body>
</html>